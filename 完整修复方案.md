# ğŸ”§ å®Œæ•´ä¿®å¤æ–¹æ¡ˆ - è§£å†³æ‰€æœ‰æ„å»ºé”™è¯¯

## å½“å‰é—®é¢˜

1. âŒ ç¼ºå°‘ Supabase Swift Package ä¾èµ–
2. âŒ Info.plist é‡å¤è¾“å‡º

## âœ… ä¸€æ¬¡æ€§è§£å†³æ–¹æ¡ˆï¼ˆ5åˆ†é’Ÿï¼‰

---

## æ­¥éª¤ 1ï¼šæ¸…ç†æ‰€æœ‰ç¼“å­˜å’Œæ´¾ç”Ÿæ•°æ®

åœ¨ç»ˆç«¯è¿è¡Œï¼š

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /Users/stev/Desktop/Cursor/GoldBean

# æ¸…ç†æ‰€æœ‰ç¼“å­˜
rm -rf ~/Library/Developer/Xcode/DerivedData/*
rm -rf ~/Library/Caches/org.swift.swiftpm/*
rm -rf .build

# æ¸…ç† Xcode ç¼“å­˜
xcrun --kill-cache

echo "âœ… ç¼“å­˜å·²æ¸…ç†"
```

---

## æ­¥éª¤ 2ï¼šæ‰“å¼€ Xcode å¹¶é…ç½®

### 2.1 æ‰“å¼€é¡¹ç›®

```bash
open GoldBean.xcodeproj
```

### 2.2 é‡æ–°è§£æ Swift Package

1. åœ¨ Xcode èœå•æ 
2. é€‰æ‹© `File` â†’ `Packages` â†’ `Reset Package Caches`
3. ç­‰å¾…å®Œæˆï¼ˆå³ä¸Šè§’ä¼šæ˜¾ç¤ºè¿›åº¦ï¼‰
4. å†é€‰æ‹© `File` â†’ `Packages` â†’ `Resolve Package Versions`
5. ç­‰å¾…ä¸‹è½½å®Œæˆ

---

## æ­¥éª¤ 3ï¼šæ£€æŸ¥å¹¶æ·»åŠ  Supabase ä¾èµ–

### 3.1 æ£€æŸ¥ç°æœ‰ä¾èµ–

1. ç‚¹å‡»å·¦ä¸Šè§’ `GoldBean` é¡¹ç›®ï¼ˆè“è‰²å›¾æ ‡ï¼‰
2. é€‰æ‹©é¡¹ç›®æœ¬èº«ï¼ˆä¸æ˜¯ TARGETï¼Œæ˜¯ PROJECTï¼‰
3. ç‚¹å‡» `Package Dependencies` æ ‡ç­¾
4. åº”è¯¥èƒ½çœ‹åˆ° `supabase-swift` åŒ…

**å¦‚æœçœ‹ä¸åˆ°**ï¼Œç»§ç»­ 3.2ï¼›**å¦‚æœçœ‹åˆ°äº†**ï¼Œè·³åˆ° 3.3

### 3.2 æ·»åŠ  Supabase åŒ…ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰

1. ç‚¹å‡»ä¸‹æ–¹çš„ `+` æŒ‰é’®
2. åœ¨æœç´¢æ¡†è¾“å…¥ï¼š`https://github.com/supabase/supabase-swift`
3. ç‚¹å‡» `Add Package`
4. ç‰ˆæœ¬é€‰æ‹©ï¼š`Up to Next Major Version` - `2.34.0`
5. ç‚¹å‡» `Add Package`

### 3.3 é“¾æ¥ Supabase äº§å“åˆ° Target

âš ï¸ **è¿™æ˜¯å…³é”®æ­¥éª¤ï¼**

1. åœ¨ Package Dependencies é¡µé¢
2. æ‰¾åˆ° `supabase-swift` åŒ…
3. å±•å¼€å®ƒï¼Œåº”è¯¥çœ‹åˆ°ä»¥ä¸‹äº§å“ï¼š
   - Supabase
   - Auth
   - Storage
   - Functions
   - Realtime
   - PostgREST

4. **ç‚¹å‡»é¡¹ç›® â†’ TARGETS â†’ `GoldBean`**
5. ç‚¹å‡» `General` æ ‡ç­¾
6. å‘ä¸‹æ»šåŠ¨åˆ° `Frameworks, Libraries, and Embedded Content` éƒ¨åˆ†
7. ç‚¹å‡» `+` æŒ‰é’®
8. åœ¨å¼¹å‡ºçª—å£ä¸­ï¼Œ**ä¾æ¬¡æ·»åŠ **ä»¥ä¸‹ 6 ä¸ªåŒ…äº§å“ï¼š
   - âœ… Supabase
   - âœ… Auth
   - âœ… Storage
   - âœ… Functions
   - âœ… Realtime
   - âœ… PostgREST

9. ç¡®ä¿æ¯ä¸ªéƒ½æ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­

---

## æ­¥éª¤ 4ï¼šè§£å†³ Info.plist é‡å¤é—®é¢˜

### 4.1 ç§»é™¤ Copy Bundle Resources ä¸­çš„ Info.plist

1. ä¿æŒåœ¨ TARGETS â†’ `GoldBean`
2. ç‚¹å‡» `Build Phases` æ ‡ç­¾
3. å±•å¼€ `Copy Bundle Resources`
4. åœ¨åˆ—è¡¨ä¸­æ‰¾åˆ° `Info.plist`ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰
5. é€‰ä¸­å®ƒï¼Œç‚¹å‡»ä¸‹æ–¹ `-` æŒ‰é’®åˆ é™¤

### 4.2 ç¡®è®¤ Build Settings é…ç½®

1. ç‚¹å‡» `Build Settings` æ ‡ç­¾
2. æœç´¢æ¡†è¾“å…¥ï¼š`info.plist`
3. æ‰¾åˆ° `Packaging` éƒ¨åˆ†çš„ `Info.plist File`
4. **åŒå‡»**è¯¥å€¼ï¼Œè®¾ç½®ä¸ºï¼š`GoldBean/Info.plist`
5. æŒ‰å›è½¦ç¡®è®¤

### 4.3 å¤„ç† Generate Info.plist File é€‰é¡¹

1. åœ¨ Build Settings ä¸­ç»§ç»­æœç´¢ï¼š`generate info`
2. æ‰¾åˆ° `Generate Info.plist File`
3. è®¾ç½®ä¸ºï¼š`No`

---

## æ­¥éª¤ 5ï¼šæ¸…ç†å¹¶é‡æ–°æ„å»º

1. **æ¸…ç†æ„å»ºæ–‡ä»¶å¤¹**
   - èœå•æ ï¼š`Product` â†’ `Clean Build Folder`
   - æˆ–å¿«æ·é”®ï¼š`Shift + Cmd + K`

2. **é‡æ–°æ„å»º**
   - èœå•æ ï¼š`Product` â†’ `Build`
   - æˆ–å¿«æ·é”®ï¼š`Cmd + B`

3. **è¿è¡Œåº”ç”¨**
   - èœå•æ ï¼š`Product` â†’ `Run`
   - æˆ–å¿«æ·é”®ï¼š`Cmd + R`

---

## âœ… éªŒè¯æˆåŠŸ

æ„å»ºæˆåŠŸåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ï¼š

```
Build Succeeded
```

å¹¶ä¸”åº”ç”¨æ­£å¸¸è¿è¡Œï¼

---

## âš ï¸ å¦‚æœä»ç„¶å¤±è´¥

### é—®é¢˜ Aï¼šä»ç„¶æç¤ºç¼ºå°‘ Supabase åŒ…

**è§£å†³æ–¹æ¡ˆï¼šå®Œå…¨é‡ç½®åŒ…ä¾èµ–**

1. **å…³é—­ Xcode**

2. **åˆ é™¤åŒ…ç¼“å­˜**ï¼š
   ```bash
   cd /Users/stev/Desktop/Cursor/GoldBean
   rm -rf ~/Library/Developer/Xcode/DerivedData/*
   rm -rf ~/Library/Caches/org.swift.swiftpm/*
   rm -rf .build
   ```

3. **é‡æ–°æ‰“å¼€ Xcode**

4. **ç­‰å¾…è‡ªåŠ¨è§£æåŒ…**ï¼ˆå³ä¸Šè§’ä¼šæ˜¾ç¤ºè¿›åº¦ï¼‰

5. **æ‰‹åŠ¨è§£æ**ï¼š
   - `File` â†’ `Packages` â†’ `Update to Latest Package Versions`

### é—®é¢˜ Bï¼šInfo.plist ä»ç„¶é‡å¤

**è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ Xcode è‡ªåŠ¨ç”Ÿæˆ**

1. **å®Œå…¨ç§»é™¤ Info.plist æ–‡ä»¶å¼•ç”¨**
   - åœ¨é¡¹ç›®å¯¼èˆªå™¨ä¸­å³é”®ç‚¹å‡» `Info.plist`
   - é€‰æ‹© `Delete` â†’ `Remove Reference`

2. **è®© Xcode è‡ªåŠ¨ç”Ÿæˆ**
   - Build Settings â†’ æœç´¢ `generate info`
   - `Generate Info.plist File` = `Yes`

3. **åœ¨ Info æ ‡ç­¾é¡µæ·»åŠ æƒé™**
   - TARGETS â†’ `GoldBean` â†’ `Info` æ ‡ç­¾
   - ç‚¹å‡» `+` æ·»åŠ ä»¥ä¸‹æƒé™ï¼š

   | Key | Type | Value |
   |-----|------|-------|
   | Privacy - Photo Library Usage Description | String | éœ€è¦è®¿é—®æ‚¨çš„ç…§ç‰‡åº“ä»¥ä¿å­˜å’ŒæŸ¥çœ‹é»„é‡‘é¥°å“ç…§ç‰‡ |
   | Privacy - Camera Usage Description | String | éœ€è¦ä½¿ç”¨ç›¸æœºæ‹æ‘„é»„é‡‘é¥°å“ç…§ç‰‡ |
   | Privacy - Photo Library Additions Usage Description | String | éœ€è¦å°†é»„é‡‘é¥°å“ç…§ç‰‡ä¿å­˜åˆ°æ‚¨çš„ç…§ç‰‡åº“ |

4. **æ¸…ç†å¹¶é‡æ–°æ„å»º**

---

## ğŸ“‹ å®Œæ•´æ£€æŸ¥æ¸…å•

æ„å»ºå‰ç¡®è®¤ï¼š

- [ ] Swift Package ç¼“å­˜å·²æ¸…ç†
- [ ] Supabase åŒ…åœ¨ Package Dependencies ä¸­å¯è§
- [ ] 6 ä¸ª Supabase äº§å“å·²é“¾æ¥åˆ° Target
- [ ] Info.plist ä¸åœ¨ Copy Bundle Resources ä¸­
- [ ] Build Settings ä¸­ Info.plist File è·¯å¾„æ­£ç¡®
- [ ] Generate Info.plist File = No
- [ ] å·²æ¸…ç†æ„å»ºæ–‡ä»¶å¤¹

---

## ğŸ¯ å…³é”®è¦ç‚¹

### Supabase ä¾èµ–é—®é¢˜
**åŸå› **ï¼šSwift Package å·²ä¸‹è½½ï¼Œä½†æ²¡æœ‰é“¾æ¥åˆ° Target
**è§£å†³**ï¼šåœ¨ General â†’ Frameworks ä¸­æ‰‹åŠ¨æ·»åŠ æ‰€æœ‰ 6 ä¸ªäº§å“

### Info.plist é‡å¤é—®é¢˜
**åŸå› **ï¼šInfo.plist è¢«åŒæ—¶ä½œä¸ºæ–‡ä»¶å’Œèµ„æºå¤„ç†
**è§£å†³**ï¼š
- æ–¹æ¡ˆ 1ï¼šåªåœ¨ Build Settings ä¸­æŒ‡å®šè·¯å¾„ï¼Œä¸å¤åˆ¶åˆ° Bundle Resources
- æ–¹æ¡ˆ 2ï¼šè®© Xcode è‡ªåŠ¨ç”Ÿæˆï¼Œåœ¨ Info æ ‡ç­¾é¡µé…ç½®

---

## ğŸ’¡ ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™äº›é—®é¢˜ï¼Ÿ

1. **Supabase åŒ…ä¸¢å¤±**
   - Swift Package Manager ç¼“å­˜æŸå
   - æˆ–è€…åŒ…é“¾æ¥åœ¨æŸæ¬¡æ›´æ–°ä¸­ä¸¢å¤±

2. **Info.plist é‡å¤**
   - æ·»åŠ  Info.plist æ—¶é”™è¯¯åœ°å‹¾é€‰äº† Copy Items
   - å¯¼è‡´å®ƒè¢«å½“ä½œæ™®é€šèµ„æºæ–‡ä»¶å¤åˆ¶

---

## ğŸ” è°ƒè¯•æŠ€å·§

å¦‚æœæ„å»ºå¤±è´¥ï¼ŒæŸ¥çœ‹é”™è¯¯ç±»å‹ï¼š

1. **Missing package product**
   â†’ æ£€æŸ¥ General â†’ Frameworks æ˜¯å¦åŒ…å«æ‰€æœ‰åŒ…

2. **duplicate output file**
   â†’ æ£€æŸ¥ Build Phases â†’ Copy Bundle Resources

3. **No such module**
   â†’ é‡æ–°è§£æåŒ…ï¼šFile â†’ Packages â†’ Reset Package Caches

---

å®Œæˆä»¥ä¸Šæ­¥éª¤åï¼Œæ‚¨çš„åº”ç”¨åº”è¯¥èƒ½æ­£å¸¸æ„å»ºå’Œè¿è¡Œäº†ï¼ğŸ‰




