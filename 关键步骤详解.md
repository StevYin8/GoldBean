# ğŸ¯ å…³é”®æ­¥éª¤è¯¦è§£ - é€æ­¥è§£å†³

## âœ… å·²å®Œæˆï¼šç¼“å­˜æ¸…ç†

æ‰€æœ‰ Xcode å’Œ Swift Package ç¼“å­˜å·²æ¸…ç†å®Œæˆï¼

---

## ğŸ”‘ å…³é”®é—®é¢˜åˆ†æ

### é—®é¢˜ 1ï¼šç¼ºå°‘ Supabase åŒ…äº§å“

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Missing package product 'PostgREST'
Missing package product 'Functions'
Missing package product 'Supabase'
Missing package product 'Auth'
Missing package product 'Storage'
Missing package product 'Realtime'
```

**åŸå› **ï¼š
- âœ… Supabase åŒ…å·²ä¸‹è½½ï¼ˆåœ¨ Package.resolved ä¸­ï¼‰
- âŒ ä½†æ˜¯**æ²¡æœ‰é“¾æ¥åˆ° GoldBean Target**
- Xcode ä¸çŸ¥é“è¦åœ¨æ„å»ºæ—¶åŒ…å«è¿™äº›åŒ…

**è§£å†³æ–¹æ¡ˆ**ï¼š
æ‰‹åŠ¨å°†æ‰€æœ‰ 6 ä¸ªåŒ…äº§å“é“¾æ¥åˆ° Target

---

### é—®é¢˜ 2ï¼šInfo.plist é‡å¤

**é”™è¯¯ä¿¡æ¯**ï¼š
```
duplicate output file 'Info.plist' on task: ProcessInfoPlistFile
```

**åŸå› **ï¼š
Info.plist è¢«ä¸¤ä¸ªåœ°æ–¹åŒæ—¶å¤„ç†ï¼š
1. Build Settings â†’ Info.plist Fileï¼ˆæ­£ç¡®ï¼‰
2. Build Phases â†’ Copy Bundle Resourcesï¼ˆé”™è¯¯ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼š
ä» Copy Bundle Resources ä¸­ç§»é™¤

---

## ğŸ“‹ è¯¦ç»†æ“ä½œæ­¥éª¤

### æ­¥éª¤ 1ï¼šæ‰“å¼€é¡¹ç›® â±ï¸ 30ç§’

```bash
open GoldBean.xcodeproj
```

ç­‰å¾… Xcode å®Œå…¨åŠ è½½ã€‚

---

### æ­¥éª¤ 2ï¼šé‡æ–°è§£æ Swift Package â±ï¸ 1-2åˆ†é’Ÿ

è¿™æ˜¯**æœ€å…³é”®**çš„æ­¥éª¤ï¼

#### 2.1 é‡ç½®åŒ…ç¼“å­˜

1. **èœå•æ ** â†’ `File`
2. é¼ æ ‡ç§»åˆ° â†’ `Packages`
3. ç‚¹å‡» â†’ `Reset Package Caches`
4. **ç­‰å¾…å³ä¸Šè§’è¿›åº¦æ¡å®Œæˆ**

#### 2.2 è§£æåŒ…ç‰ˆæœ¬

1. **èœå•æ ** â†’ `File`
2. é¼ æ ‡ç§»åˆ° â†’ `Packages`
3. ç‚¹å‡» â†’ `Resolve Package Versions`
4. **ç­‰å¾…ä¸‹è½½å®Œæˆ**ï¼ˆå¯èƒ½éœ€è¦ 1-2 åˆ†é’Ÿï¼‰

**å¦‚ä½•ç¡®è®¤å®Œæˆï¼Ÿ**
- å³ä¸Šè§’æ²¡æœ‰æ—‹è½¬çš„è¿›åº¦æŒ‡ç¤ºå™¨
- å·¦ä¾§é¡¹ç›®å¯¼èˆªæ ä¸­ `Package Dependencies` ä¸‹èƒ½çœ‹åˆ°åŒ…

---

### æ­¥éª¤ 3ï¼šé“¾æ¥ Supabase åŒ…åˆ° Target â±ï¸ 1åˆ†é’Ÿ

è¿™æ˜¯**è§£å†³ç¼ºå°‘åŒ…äº§å“é—®é¢˜çš„æ ¸å¿ƒæ­¥éª¤**ï¼

#### 3.1 æ‰“å¼€é¡¹ç›®è®¾ç½®

1. ç‚¹å‡» Xcode å·¦ä¸Šè§’çš„ `GoldBean` é¡¹ç›®ï¼ˆ**è“è‰²å›¾æ ‡**ï¼‰
2. åœ¨ä¸­é—´åŒºåŸŸï¼Œç¡®ä¿é€‰æ‹©çš„æ˜¯ **TARGETS** ä¸‹çš„ `GoldBean`
   - ä¸æ˜¯ PROJECTï¼
   - çœ‹æ¸…æ¥šæ˜¯ TARGETS éƒ¨åˆ†

#### 3.2 æ‰“å¼€ General æ ‡ç­¾

1. ç‚¹å‡»é¡¶éƒ¨çš„ `General` æ ‡ç­¾
2. å‘ä¸‹æ»šåŠ¨ï¼Œæ‰¾åˆ° `Frameworks, Libraries, and Embedded Content` éƒ¨åˆ†

#### 3.3 æ·»åŠ  Supabase äº§å“ï¼ˆå…³é”®ï¼ï¼‰

ç°åœ¨è¦æ·»åŠ  **6 ä¸ª** Supabase åŒ…äº§å“ï¼š

**æ“ä½œ**ï¼š
1. ç‚¹å‡» `Frameworks, Libraries, and Embedded Content` ä¸‹æ–¹çš„ **`+`** æŒ‰é’®
2. åœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ï¼Œ**å‘ä¸‹æ»šåŠ¨**æ‰¾åˆ°æ‰€æœ‰ Supabase ç›¸å…³çš„äº§å“
3. **ä¾æ¬¡**é€‰æ‹©å¹¶æ·»åŠ ä»¥ä¸‹ 6 ä¸ªï¼ˆâš ï¸ ä¸€ä¸ªéƒ½ä¸èƒ½å°‘ï¼‰ï¼š

   ```
   âœ… Supabase
   âœ… Auth
   âœ… Storage  
   âœ… Functions
   âœ… Realtime
   âœ… PostgREST
   ```

4. æ¯æ·»åŠ ä¸€ä¸ªï¼Œç‚¹å‡» `Add` æŒ‰é’®
5. é‡å¤ 6 æ¬¡ï¼Œç›´åˆ°æ‰€æœ‰äº§å“éƒ½æ·»åŠ å®Œæˆ

**å¦‚ä½•ç¡®è®¤ï¼Ÿ**
- åœ¨ `Frameworks, Libraries, and Embedded Content` åˆ—è¡¨ä¸­
- åº”è¯¥èƒ½çœ‹åˆ°è¿™ 6 ä¸ªåŒ…äº§å“
- æ¯ä¸ªæ—è¾¹éƒ½æ˜¾ç¤º `Embed & Sign` æˆ– `Do Not Embed`

---

### æ­¥éª¤ 4ï¼šä¿®å¤ Info.plist é‡å¤é—®é¢˜ â±ï¸ 30ç§’

#### 4.1 æ‰“å¼€ Build Phases

1. ä¿æŒåœ¨ TARGETS â†’ `GoldBean`
2. ç‚¹å‡»é¡¶éƒ¨çš„ `Build Phases` æ ‡ç­¾

#### 4.2 ç§»é™¤é‡å¤çš„ Info.plist

1. æ‰¾åˆ°å¹¶**ç‚¹å‡»å±•å¼€** `Copy Bundle Resources` éƒ¨åˆ†
2. åœ¨åˆ—è¡¨ä¸­**å‘ä¸‹æ»šåŠ¨**å¯»æ‰¾ `Info.plist`
3. **å¦‚æœæ‰¾åˆ°äº†**ï¼š
   - ç‚¹å‡»é€‰ä¸­ `Info.plist`
   - ç‚¹å‡»ä¸‹æ–¹çš„ **`-`** æŒ‰é’®åˆ é™¤
4. **å¦‚æœæ²¡æ‰¾åˆ°**ï¼š
   - è¯´æ˜ä¸åœ¨è¿™é‡Œï¼Œè·³è¿‡æ­¤æ­¥

---

### æ­¥éª¤ 5ï¼šç¡®è®¤ Build Settings é…ç½® â±ï¸ 30ç§’

#### 5.1 æ‰“å¼€ Build Settings

1. ç‚¹å‡»é¡¶éƒ¨çš„ `Build Settings` æ ‡ç­¾
2. åœ¨æœç´¢æ¡†ä¸­è¾“å…¥ï¼š`info.plist`

#### 5.2 æ£€æŸ¥é…ç½®

æ‰¾åˆ°ä»¥ä¸‹ä¸¤ä¸ªè®¾ç½®ï¼š

**è®¾ç½® 1ï¼šInfo.plist File**
- ä½ç½®ï¼š`Packaging` éƒ¨åˆ†
- å½“å‰å€¼åº”è¯¥æ˜¯ï¼š`GoldBean/Info.plist`
- å¦‚æœä¸æ˜¯ï¼ŒåŒå‡»ä¿®æ”¹

**è®¾ç½® 2ï¼šGenerate Info.plist File**
- å½“å‰å€¼åº”è¯¥æ˜¯ï¼š`No`
- å¦‚æœæ˜¯ `Yes`ï¼Œç‚¹å‡»æ”¹ä¸º `No`

---

### æ­¥éª¤ 6ï¼šæ¸…ç†å¹¶æ„å»º â±ï¸ 1åˆ†é’Ÿ

#### 6.1 æ¸…ç†æ„å»ºæ–‡ä»¶å¤¹

**æ–¹å¼ 1ï¼ˆå¿«æ·é”®ï¼‰**ï¼š
- æŒ‰ `Shift + Cmd + K`

**æ–¹å¼ 2ï¼ˆèœå•ï¼‰**ï¼š
- èœå•æ  â†’ `Product` â†’ `Clean Build Folder`

**ç­‰å¾…æ¸…ç†å®Œæˆ**

#### 6.2 é‡æ–°æ„å»º

**æ–¹å¼ 1ï¼ˆå¿«æ·é”®ï¼‰**ï¼š
- æŒ‰ `Cmd + B`

**æ–¹å¼ 2ï¼ˆèœå•ï¼‰**ï¼š
- èœå•æ  â†’ `Product` â†’ `Build`

**è§‚å¯Ÿæ„å»ºè¿‡ç¨‹**ï¼š
- å³ä¸Šè§’ä¼šæ˜¾ç¤ºæ„å»ºè¿›åº¦
- åº•éƒ¨å¯ä»¥çœ‹åˆ°æ„å»ºæ—¥å¿—

#### 6.3 è¿è¡Œåº”ç”¨

å¦‚æœæ„å»ºæˆåŠŸï¼ˆæ˜¾ç¤º `Build Succeeded`ï¼‰ï¼š

**å¿«æ·é”®**ï¼š
- æŒ‰ `Cmd + R`

**æˆ–èœå•**ï¼š
- èœå•æ  â†’ `Product` â†’ `Run`

---

## âœ… æˆåŠŸæ ‡å¿—

### æ„å»ºæˆåŠŸ

åœ¨ Xcode é¡¶éƒ¨ä¸­é—´åŒºåŸŸåº”è¯¥çœ‹åˆ°ï¼š
```
âœ“ Build Succeeded
```

### åº”ç”¨æ­£å¸¸è¿è¡Œ

- æ¨¡æ‹Ÿå™¨/çœŸæœºå¯åŠ¨
- åº”ç”¨æ‰“å¼€
- æ²¡æœ‰å´©æºƒ
- åŠŸèƒ½æ­£å¸¸

---

## âš ï¸ å¦‚æœä»ç„¶å¤±è´¥

### é”™è¯¯ Aï¼šä»ç„¶æç¤ºç¼ºå°‘åŒ…äº§å“

**å¯èƒ½åŸå› **ï¼šåŒ…æ²¡æœ‰æ­£ç¡®ä¸‹è½½æˆ–é“¾æ¥

**è§£å†³**ï¼š

1. **æ£€æŸ¥ç½‘ç»œè¿æ¥**
2. **å®Œå…¨é‡å¯ Xcode**
3. **é‡æ–°è¿è¡Œæ¸…ç†è„šæœ¬**ï¼š
   ```bash
   ./å®Œå…¨æ¸…ç†.sh
   ```
4. **é‡æ–°æ‰“å¼€é¡¹ç›®**
5. **æ‰‹åŠ¨æ›´æ–°åŒ…**ï¼š
   - `File` â†’ `Packages` â†’ `Update to Latest Package Versions`
6. **é‡å¤æ­¥éª¤ 3ï¼ˆé“¾æ¥åŒ…åˆ° Targetï¼‰**

### é”™è¯¯ Bï¼šä»ç„¶ Info.plist é‡å¤

**å¯èƒ½åŸå› **ï¼šé…ç½®å†²çª

**è§£å†³æ–¹æ¡ˆ 1ï¼šå®Œå…¨ç§»é™¤å¹¶è®© Xcode è‡ªåŠ¨ç”Ÿæˆ**

1. **åˆ é™¤ Info.plist æ–‡ä»¶å¼•ç”¨**
   - åœ¨å·¦ä¾§é¡¹ç›®å¯¼èˆªæ 
   - å³é”®ç‚¹å‡» `Info.plist`
   - é€‰æ‹© `Delete`
   - **é€‰æ‹©** `Remove Reference`ï¼ˆä¸æ˜¯ Move to Trashï¼‰

2. **å¯ç”¨è‡ªåŠ¨ç”Ÿæˆ**
   - Build Settings â†’ æœç´¢ `generate info`
   - `Generate Info.plist File` = `Yes`

3. **åœ¨ Info æ ‡ç­¾é¡µé…ç½®æƒé™**
   - TARGETS â†’ GoldBean â†’ `Info` æ ‡ç­¾
   - ç‚¹å‡» `+` æ·»åŠ æƒé™ï¼ˆè§ä¸‹è¡¨ï¼‰

**æƒé™é…ç½®è¡¨**ï¼š

| Key | Type | Value |
|-----|------|-------|
| Privacy - Photo Library Usage Description | String | éœ€è¦è®¿é—®æ‚¨çš„ç…§ç‰‡åº“ä»¥ä¿å­˜å’ŒæŸ¥çœ‹é»„é‡‘é¥°å“ç…§ç‰‡ |
| Privacy - Camera Usage Description | String | éœ€è¦ä½¿ç”¨ç›¸æœºæ‹æ‘„é»„é‡‘é¥°å“ç…§ç‰‡ |
| Privacy - Photo Library Additions Usage Description | String | éœ€è¦å°†é»„é‡‘é¥°å“ç…§ç‰‡ä¿å­˜åˆ°æ‚¨çš„ç…§ç‰‡åº“ |

**è§£å†³æ–¹æ¡ˆ 2ï¼šæ£€æŸ¥é¡¹ç›®æ–‡ä»¶**

å¦‚æœæ–¹æ¡ˆ 1 ä¸è¡Œï¼Œå¯èƒ½éœ€è¦æ‰‹åŠ¨ç¼–è¾‘é¡¹ç›®æ–‡ä»¶ï¼š

```bash
# å…³é—­ Xcode
# ç¼–è¾‘é¡¹ç›®é…ç½®
open -e GoldBean.xcodeproj/project.pbxproj

# æœç´¢ Info.plist
# åˆ é™¤åœ¨ PBXResourcesBuildPhase ä¸­çš„ Info.plist å¼•ç”¨
# ä¿å­˜å¹¶é‡æ–°æ‰“å¼€ Xcode
```

---

## ğŸ¯ éªŒè¯æ¸…å•

å®Œæˆæ‰€æœ‰æ­¥éª¤åï¼Œç¡®è®¤ï¼š

**åŒ…ä¾èµ–**
- [ ] File â†’ Packages â†’ Reset Package Caches å·²æ‰§è¡Œ
- [ ] File â†’ Packages â†’ Resolve Package Versions å·²æ‰§è¡Œ
- [ ] ä¸‹è½½å·²å®Œæˆï¼ˆå³ä¸Šè§’æ— è¿›åº¦æ¡ï¼‰
- [ ] General â†’ Frameworks ä¸­æœ‰ 6 ä¸ª Supabase äº§å“

**Info.plist**
- [ ] Build Phases â†’ Copy Bundle Resources ä¸­æ—  Info.plist
- [ ] Build Settings â†’ Info.plist File = `GoldBean/Info.plist`
- [ ] Build Settings â†’ Generate Info.plist File = `No`

**æ„å»º**
- [ ] å·²æ¸…ç†æ„å»ºæ–‡ä»¶å¤¹ (Shift + Cmd + K)
- [ ] æ„å»ºæˆåŠŸ (Cmd + B)
- [ ] åº”ç”¨è¿è¡Œæ­£å¸¸ (Cmd + R)

**ç…§ç‰‡åŠŸèƒ½**
- [ ] ç‚¹å‡»"æ·»åŠ ç…§ç‰‡"ä¸é—ªé€€
- [ ] æƒé™è¯·æ±‚æ­£å¸¸æ˜¾ç¤º
- [ ] å¯ä»¥é€‰æ‹©ç…§ç‰‡
- [ ] å¯ä»¥ä½¿ç”¨ç›¸æœº

---

## ğŸ’¡ ä¸“ä¸šå»ºè®®

1. **æ¯æ¬¡æ·»åŠ æ–°çš„ Swift Package å**
   - æ€»æ˜¯æ£€æŸ¥ General â†’ Frameworks
   - ç¡®ä¿åŒ…äº§å“å·²é“¾æ¥

2. **Info.plist çš„æ­£ç¡®ç®¡ç†**
   - ä¸è¦ä½œä¸ºèµ„æºæ–‡ä»¶æ·»åŠ 
   - åªåœ¨ Build Settings ä¸­æŒ‡å®šè·¯å¾„
   - æˆ–è€…ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆ + Info æ ‡ç­¾é¡µé…ç½®

3. **å®šæœŸæ¸…ç†ç¼“å­˜**
   - é‡åˆ°å¥‡æ€ªçš„æ„å»ºé—®é¢˜æ—¶
   - è¿è¡Œ `./å®Œå…¨æ¸…ç†.sh`
   - é‡å¯ Xcode

4. **ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶**
   - ç¡®ä¿ Package.resolved å·²æäº¤
   - å…¶ä»–äººæ‹‰å–ä»£ç åä¹Ÿèƒ½æ­£ç¡®æ„å»º

---

æŒ‰ç…§è¿™äº›è¯¦ç»†æ­¥éª¤æ“ä½œï¼Œæ‚¨çš„åº”ç”¨åº”è¯¥èƒ½å¤ŸæˆåŠŸæ„å»ºå’Œè¿è¡Œï¼ğŸ‰

å¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹æ„å»ºæ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯ã€‚






